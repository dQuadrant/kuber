"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[8437],{2126:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>i,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"hydra-js-client/local-devnet","title":"Local devnet","description":"This guide walks through the steps to set up a devnet and run a Hydra Head using the kuber relay server. We\'ll demonstrate the process using three Hydra nodes - Alice, Bob and Carol - on the Cardano devnet.","source":"@site/docs/hydra-js-client/local-devnet.md","sourceDirName":"hydra-js-client","slug":"/hydra-js-client/local-devnet","permalink":"/kuber/hydra_docusaurus/docs/hydra-js-client/local-devnet","draft":false,"unlisted":false,"editUrl":"https://github.com/dQuadrant/kuber/tree/feat/hydra/docs/hydra-js-client/local-devnet.md","tags":[],"version":"current","frontMatter":{},"sidebar":"hydraJsClient","previous":{"title":"Overview","permalink":"/kuber/hydra_docusaurus/docs/hydra-js-client/getting-started"},"next":{"title":"Testnet/Mainnet","permalink":"/kuber/hydra_docusaurus/docs/hydra-js-client/testnet_or_mainnet"}}');var d=r(4848),t=r(8453);const a={},l="Local devnet",i={},c=[{value:"<strong>1. Devnet Setup</strong>",id:"1-devnet-setup",level:2},{value:"All bash commands (quickstart)",id:"all-bash-commands-quickstart",level:3},{value:"<strong>2. Hydra Node Setup</strong>",id:"2-hydra-node-setup",level:2},{value:"<strong>3. Kuber Relay Server</strong>",id:"3-kuber-relay-server",level:2},{value:"<strong>Repository</strong>",id:"repository",level:3},{value:"<strong>Configuration</strong>",id:"configuration",level:3},{value:"<strong>With Docker</strong>",id:"with-docker",level:4}];function o(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"local-devnet",children:"Local devnet"})}),"\n",(0,d.jsxs)(n.p,{children:["This guide walks through the steps to set up a devnet and run a Hydra Head using the ",(0,d.jsx)(n.code,{children:"kuber"})," relay server. We'll demonstrate the process using three Hydra nodes - ",(0,d.jsx)(n.strong,{children:"Alice"}),", ",(0,d.jsx)(n.strong,{children:"Bob"})," and ",(0,d.jsx)(n.strong,{children:"Carol"})," - on the Cardano devnet."]}),"\n",(0,d.jsx)(n.h2,{id:"1-devnet-setup",children:(0,d.jsx)(n.strong,{children:"1. Devnet Setup"})}),"\n",(0,d.jsx)(n.p,{children:"Here we prepare the devnet configuration for bootstrapping a local Cardano node. This is the simplified variant of the Cardano node that doesn't require any stake pools."}),"\n",(0,d.jsx)(n.admonition,{type:"note",children:(0,d.jsxs)(n.p,{children:["If you don't want to use a devnet and want to set up a testnet/mainnet, follow this link -> ",(0,d.jsx)(n.a,{href:"/kuber/hydra_docusaurus/docs/hydra-js-client/testnet_or_mainnet",children:"Testnet/Mainnet"})]})}),"\n",(0,d.jsx)(n.h3,{id:"all-bash-commands-quickstart",children:"All bash commands (quickstart)"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"cd kuber-hydra/devnet\nbash setup-devnet.sh\ndocker compose up -d cardano-node\nbash generate-credentials.sh\nbash seed-devnet.sh\ndocker compose up -d\ndocker ps\n"})}),"\n",(0,d.jsx)(n.p,{children:"Step-by-step implementation:"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:(0,d.jsxs)(n.strong,{children:["Navigate to the ",(0,d.jsx)(n.code,{children:"kuber-hydra/devnet"})," directory:"]})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"cd kuber-hydra/devnet\n"})}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Run setup-devnet script:"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"bash setup-devnet.sh\n"})}),"\n",(0,d.jsx)(n.p,{children:"This script cleans the runtime directory and puts the current time in genesis-shelley and genesis-byron."}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Starting the Cardano node:"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"docker compose up -d cardano-node\n"})}),"\n",(0,d.jsx)(n.p,{children:"Verify that the cardano-node is running:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"docker compose logs cardano-node -f\n"})}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Generate credentials for Alice, Bob and Carol:"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"bash generate-credentials.sh\n"})}),"\n",(0,d.jsx)(n.p,{children:"This script will generate all the required keys for each participant. See the credentials folder."}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Fund Alice, Bob and Carol:"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"bash seed-devnet.sh\n"})}),"\n",(0,d.jsx)(n.p,{children:"This script will fund all participants."}),"\n",(0,d.jsx)(n.p,{children:"alice         -> 30 ADA\nbob           -> 30 ADA\ncarol         -> 30 ADA\nalice-funds   -> 100 ADA\nbob-funds     -> 50 ADA\ncarol-funds   -> 25 ADA"}),"\n",(0,d.jsx)(n.p,{children:"This script also produces protocol parameters and publishes reference scripts."}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"2-hydra-node-setup",children:(0,d.jsx)(n.strong,{children:"2. Hydra Node Setup"})}),"\n",(0,d.jsx)(n.p,{children:"To set up hydra nodes simply do:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"docker compose up hydra-node-{1,2,3}\n"})}),"\n",(0,d.jsx)(n.p,{children:"Verify hydra nodes are up and running:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"docker ps | grep hydra-node\n"})}),"\n",(0,d.jsx)(n.h2,{id:"3-kuber-relay-server",children:(0,d.jsx)(n.strong,{children:"3. Kuber Relay Server"})}),"\n",(0,d.jsx)(n.h3,{id:"repository",children:(0,d.jsx)(n.strong,{children:"Repository"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["GitHub: ",(0,d.jsx)(n.a,{href:"https://github.com/dquadrant/kuber",children:"kuber"})]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"configuration",children:(0,d.jsx)(n.strong,{children:"Configuration"})}),"\n",(0,d.jsx)(n.p,{children:"After the hydra node setup we now setup kuber server."}),"\n",(0,d.jsxs)(n.p,{children:["You can run ",(0,d.jsx)(n.code,{children:"kuber"})," using Docker."]}),"\n",(0,d.jsx)(n.h4,{id:"with-docker",children:(0,d.jsx)(n.strong,{children:"With Docker"})}),"\n",(0,d.jsxs)(n.p,{children:["For a quick setup, you can use the provided ",(0,d.jsx)(n.code,{children:"docker-compose.yml"})," to run ",(0,d.jsx)(n.code,{children:"kuber"})," along with a Cardano node and Hydra node."]}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:(0,d.jsxs)(n.strong,{children:["Navigate to the ",(0,d.jsx)(n.code,{children:"kuber-hydra/devnet"})," directory:"]})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"cd kuber-hydra/devnet\n"})}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Start the services:"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"docker compose up -d kuber-hydra-{1,2,3}\n"})}),"\n",(0,d.jsxs)(n.p,{children:["This will start ",(0,d.jsx)(n.code,{children:"kuber-hydra"})," in detached mode."]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Verify services are running:"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"docker compose ps\n"})}),"\n",(0,d.jsx)(n.p,{children:"Ensure all services are up and healthy."}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Access the Kuber-Hydra Relay API:"}),"\nThe API will be accessible at:"]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"http://localhost:8082"})," for alice"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"http://localhost:8083"})," for bob"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"http://localhost:8084"})," for carol"]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:["For full api references follow this link: ",(0,d.jsx)(n.a,{href:"/kuber/hydra_docusaurus/docs/kuber-hydra-api-reference",children:"kuber-hydra-apis"})]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(o,{...e})}):o(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>l});var s=r(6540);const d={},t=s.createContext(d);function a(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:a(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);